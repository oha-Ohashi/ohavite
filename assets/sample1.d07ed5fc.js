var v=Object.defineProperty;var C=(t,e,o)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var r=(t,e,o)=>(C(t,typeof e!="symbol"?e+"":e,o),o);import"./modulepreload-polyfill.c7c6310f.js";const f=1,m=4,d=10;let p=[{x:5,y:0},{x:6,y:0},{x:9,y:2},{x:0,y:2}],u=0;async function F(){let t=[],e=[];for(let l of[0,1,2,3,6,7,8,9])e.push(new b(l,{x:l,y:1}));console.log(p);let o=0;for(o=0;u<p.length&&o<1e4;o++)e=k(e),e=A(e),e=M(p[u],e),e=E(e),e=T(e),t.push(e.map(l=>({x:l.xy.x,y:l.xy.y})));return console.log("end at "+o),t}class b{constructor(e,o){r(this,"id");r(this,"xy");r(this,"m",.2);r(this,"vx",0);r(this,"vy",0);r(this,"fx",0);r(this,"fy",0);this.id=e,this.xy=o}}function k(t){for(let e=0;e<8;e++)t[e].fx=0,t[e].fy=0;return t}function A(t){let e=[[2],[2],[0,1,3],[2],[5],[4,6,7],[5],[5]],o=[[2],[1],[2,1,1],[1],[1],[1,1,2],[1],[2]];for(let l=0;l<8;l++){let i=0,n=0;for(let s=0;s<e[l].length;s++){let x=t[e[l][s]].xy.x-t[l].xy.x;i+=m*Math.sign(x)*(Math.abs(x)-o[l][s]);let g=t[e[l][s]].xy.y-t[l].xy.y;n+=m*(g-0)}1-t[l].xy.y,t[l].fx+=i,t[l].fy+=n}return t}performance.now();function M(t,e){let o=e[0],l=1e3;for(let i=1;i<8;i++){let n=D(t,e[i].xy);n<l&&(o=e[i],l=n)}return(t.x-o.xy.x)/l,(t.y-o.xy.y)/l,l>.05?(o.xy.x+=(t.x-o.xy.x)/10,o.xy.y+=(t.y-o.xy.y)/10):(console.log("stop at "+u),o.fx=0,o.fy=0,o.vx=0,o.vy=0,u++),e}function E(t){for(let e of t)e.vx+=e.fx/f*(d/1e3),e.vy+=e.fy/f*(d/1e3);return t}function T(t){for(let e=0;e<t.length;e++){const o=t[e].vx*(d/1e3),l=t[e].vy*(d/1e3);t[e].xy.x+=o,t[e].xy.y+=l}return t}function D(t,e){let o=Math.pow((t.x-e.x)*5,2)+Math.pow(t.y-e.y,2);return Math.sqrt(o)}console.log("chest");const c=document.createElement("div");c.style.backgroundColor="#00FF0020";const y=document.createElement("div");y.id="board-outline";c.appendChild(y);let a=c==null?void 0:c.clientWidth;y.className="board-outlines";y.style.backgroundColor="#FF000010";y.style.position="relative";setTimeout(()=>{w(),S()},10);setTimeout(async()=>{q(await F())},1500);window.onresize=()=>{console.log("reresize"),w()};function w(){a=c==null?void 0:c.clientWidth,console.log(a),y.style.width=a+"px",y.style.height=a*(3/10)+"px"}function S(){y.innerHTML="";for(let t=0;t<3;t++)for(let e=0;e<10;e++){const o=document.createElement("div");o.style.border="0.3px solid #AAAAAA",o.style.borderRadius="50%",o.innerText="{x:"+e+", y:"+t+"}",o.style.fontSize="14px",o.style.position="absolute";const l=a/10;o.style.width=l+"px",o.style.height=l+"px",o.style.left=e*l+"px",o.style.top=t*l+"px",y.appendChild(o)}}async function q(t){for(let e of t){document.querySelectorAll(".finger").forEach(n=>{y.removeChild(n)});for(let n=0;n<e.length;n++){const s=document.createElement("div");s.className="finger",s.id="finger"+n;const x=a/10;s.style.width=x+"px",s.style.height=x+"px",s.style.left=e[n].x*x+"px",s.style.top=e[n].y*x+"px",y.appendChild(s)}const l=document.createElement("div");l.className="finger";const i=a/10;l.style.width=i+"px",l.style.height=i+"px",l.style.left=5*i+"px",l.style.top=0*i+"px",y.appendChild(l),await new Promise(n=>setTimeout(n,5)),console.log("tick")}}let z=new URL(location.href),L=z.searchParams,h=L.get("name");console.log("name: "+h);console.log(location.search);if(h=="board"){const t=document.querySelector("#main-cont");t==null||t.appendChild(c)}else if(h=="chest"){const t=document.querySelector("#main-cont");t==null||t.appendChild(c)}

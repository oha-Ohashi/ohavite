var F=Object.defineProperty;var b=(t,e,o)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var a=(t,e,o)=>(b(t,typeof e!="symbol"?e+"":e,o),o);import"./modulepreload-polyfill.c7c6310f.js";const w=1,g=4,v=5,u=10;let h=[{x:5,y:0},{x:6,y:0},{x:9,y:2},{x:0,y:2}],p=0;async function k(){let t=[],e=[];for(let n of[0,1,2,3,6,7,8,9])e.push(new A(n,{x:n,y:1}));console.log(h);let o=0;for(o=0;p<h.length&&o<1e4;o++)e=M(e),e=E(e),e=T(h[p],e),e=D(e),e=S(e),t.push(e.map(n=>({x:n.xy.x,y:n.xy.y})));return console.log("end at "+o),t}class A{constructor(e,o){a(this,"id");a(this,"xy");a(this,"m",.2);a(this,"vx",0);a(this,"vy",0);a(this,"fx",0);a(this,"fy",0);this.id=e,this.xy=o}}function M(t){for(let e=0;e<8;e++)t[e].fx=0,t[e].fy=0;return t}function E(t){let e=[[2],[2],[0,1,3],[2],[5],[4,6,7],[5],[5]],o=[[2],[1],[2,1,1],[1],[1],[1,1,2],[1],[2]];for(let n=0;n<8;n++){let y=0,s=0;for(let l=0;l<e[n].length;l++){let r=t[e[n][l]].xy.x-t[n].xy.x;y+=g*Math.sign(r)*(Math.abs(r)-o[n][l]);let d=t[e[n][l]].xy.y-t[n].xy.y;s+=g*(d-0)}1-t[n].xy.y,t[n].fx+=y,t[n].fy+=s}return t}performance.now();function T(t,e){let o=e[0],n=1e3;for(let d=1;d<8;d++){let m=q(t,e[d].xy);m<n&&(o=e[d],n=m)}const y=(t.x-o.xy.x)/n,s=(t.y-o.xy.y)/n;let l=v*y,r=v*s;return n>-1?(o.fx=l,o.fy=r):(console.log("stop at "+p),o.fx=0,o.fy=0,o.vx=0,o.vy=0,p++),e}function D(t){for(let e of t)e.vx+=e.fx/w*(u/1e3),e.vy+=e.fy/w*(u/1e3);return t}function S(t){for(let e=0;e<t.length;e++){const o=t[e].vx*(u/1e3),n=t[e].vy*(u/1e3);t[e].xy.x+=o,t[e].xy.y+=n}return t}function q(t,e){let o=Math.pow((t.x-e.x)*5,2)+Math.pow(t.y-e.y,2);return Math.sqrt(o)}console.log("chest");const c=document.createElement("div");c.style.backgroundColor="#00FF0020";const i=document.createElement("div");i.id="board-outline";c.appendChild(i);let x=c==null?void 0:c.clientWidth;i.className="board-outlines";i.style.backgroundColor="#FF000010";i.style.position="relative";setTimeout(()=>{C(),z()},10);setTimeout(async()=>{L(await k())},1500);window.onresize=()=>{console.log("reresize"),C()};function C(){x=c==null?void 0:c.clientWidth,console.log(x),i.style.width=x+"px",i.style.height=x*(3/10)+"px"}function z(){i.innerHTML="";for(let t=0;t<3;t++)for(let e=0;e<10;e++){const o=document.createElement("div");o.style.border="0.3px solid #AAAAAA",o.style.borderRadius="50%",o.innerText="{x:"+e+", y:"+t+"}",o.style.fontSize="14px",o.style.position="absolute";const n=x/10;o.style.width=n+"px",o.style.height=n+"px",o.style.left=e*n+"px",o.style.top=t*n+"px",i.appendChild(o)}}async function L(t){for(let e of t){document.querySelectorAll(".finger").forEach(s=>{i.removeChild(s)});for(let s=0;s<e.length;s++){const l=document.createElement("div");l.className="finger",l.id="finger"+s;const r=x/10;l.style.width=r+"px",l.style.height=r+"px",l.style.left=e[s].x*r+"px",l.style.top=e[s].y*r+"px",i.appendChild(l)}const n=document.createElement("div");n.className="finger";const y=x/10;n.style.width=y+"px",n.style.height=y+"px",n.style.left=5*y+"px",n.style.top=0*y+"px",i.appendChild(n),await new Promise(s=>setTimeout(s,5)),console.log("tick")}}let _=new URL(location.href),N=_.searchParams,f=N.get("name");console.log("name: "+f);console.log(location.search);if(f=="board"){const t=document.querySelector("#main-cont");t==null||t.appendChild(c)}else if(f=="chest"){const t=document.querySelector("#main-cont");t==null||t.appendChild(c)}
